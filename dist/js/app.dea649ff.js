(function(){"use strict";var e={4792:function(e,t,s){var a=s(6369),o=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("NavBar",{on:{themeChanged:e.updateTheme}}),t("router-view")],1)},r=[],n=function(){var e=this,t=e._self._c;return t("nav",[t("div",{staticClass:"img-brand"},[t("img",{attrs:{src:e.logoSrc,alt:"NIDIDAS LOGO"}})]),t("div",{staticClass:"top-nav"},[t("i",{staticClass:"fa-regular fa-cart-shopping cart-icon",attrs:{onclick:"alert('KOMMER SNART!!!')"}},[t("span",{staticClass:"cart-count"},[e._v(e._s(e.cartItemsCount))])]),t("router-link",{attrs:{to:e.userRoute}},[t("i",{staticClass:"fa-regular fa-user"})]),t("i",{staticClass:"fa-solid fa-moon",attrs:{id:"darkToggle"},on:{click:e.toggleDarkMode}})],1),t("div",{staticClass:"mid-nav"},[t("ul",[t("li",[t("router-link",{attrs:{to:"/"}},[e._v("Hjem")])],1),t("li",[t("router-link",{attrs:{to:"/store"}},[e._v("Butik")])],1),t("li",[t("router-link",{attrs:{to:"/about"}},[e._v("Om Os")])],1),t("li",[t("router-link",{attrs:{to:"/contact"}},[e._v("Kontakt")])],1),t("li",[t("router-link",{attrs:{to:"/konto"}},[e._v("Konto")])],1)])])])},i=[],l=s(4233),c=s(7795),d=s(4287);const u={apiKey:"AIzaSyAcWjhwyWbVuNAU62obFsko2pXEvdoIiqo",authDomain:"my-project-93058-1688072688174.firebaseapp.com",projectId:"my-project-93058-1688072688174",storageBucket:"my-project-93058-1688072688174.appspot.com",messagingSenderId:"951726509664",appId:"1:951726509664:web:46395643a69d50fe2b7d05",measurementId:"G-5RF7WRM47R"},m=(0,c.ZF)(u),h=(0,l.v0)(m),p=(0,d.ad)(m);var g={name:"NavBar",data(){return{darkMode:!1,user:null}},computed:{cartItemsCount(){return this.$store.getters.cartCount},logoSrc(){return this.darkMode?s(1404):s(9905)},userRoute(){return this.user?"/konto":"/login"}},methods:{toggleDarkMode(){this.darkMode=!this.darkMode,this.darkMode?(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("darkMode","true")):(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem("darkMode"),localStorage.setItem("lightMode","true")),this.$emit("themeChanged",this.darkMode)}},mounted(){localStorage.getItem("lightMode")?(this.darkMode=!1,document.documentElement.removeAttribute("data-theme")):localStorage.getItem("darkMode")&&(this.darkMode=!0,document.documentElement.setAttribute("data-theme","dark")),(0,l.Aj)(h,(e=>{e?(this.user=e,this.$store.dispatch("fetchCartCount",e.uid)):this.user=null}))}},v=g,f=s(1001),k=(0,f.Z)(v,n,i,!1,null,null,null),_=k.exports,C={components:{NavBar:_},data(){return{darkMode:!1}},methods:{updateTheme(e){this.darkMode=e}}},b=C,y=(0,f.Z)(b,o,r,!1,null,null,null),w=y.exports,I=s(2631),S=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"frontpage-container"},[e._m(0),t("section",{staticClass:"showShoes"},[t("h3",[e._v("Nogle Af Vores Sko")]),t("transition",{attrs:{name:"fade",mode:"out-in"}},[e.shoes.length?t("div",{key:e.currentShoeIndex,staticClass:"single-shoe"},[t("img",{attrs:{src:e.shoes[e.currentShoeIndex].image,alt:e.shoes[e.currentShoeIndex].name}}),t("h3",[e._v(e._s(e.shoes[e.currentShoeIndex].name))]),t("p",[e._v(e._s(e.shoes[e.currentShoeIndex].description))]),t("h4",[t("strong",[e._v("Pris:")]),e._v(" "+e._s(e.shoes[e.currentShoeIndex].price))]),t("button",{staticClass:"seeProductBttn"},[e._v("Se Dette Produkt")])]):e._e()])],1)])])},x=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"frontpage-parent"},[t("h1",[e._v("Velkommen til NIDIDAS")]),t("h2",[e._v("Frigør skoens ekspertise")]),t("p",[e._v(" Opdag NIDIDAS - hvor hvert skridt fortæller en historie. Fra de tidløse klassikere til de mest dristige nyskabelser, vores sko er mere end bare fodtøj. De er en livsstil, et udtryk og et vidnesbyrd om upåklagelig design og håndværk. Dyk ned i vores kuraterede kollektion og lad dine fødder nyde komforten, stilen og elegance, der er unikt for NIDIDAS. ")]),t("p",[e._v("Interesseret i at lære mere om os? Du er kun et skridt væk.")])])}],P=s(4161),O={name:"HomePage",data(){return{firebaseCheckMsg:"",currentShoeIndex:0,userName:"",API_KEY:"XhTXaEmjhKFZiHgCgD6bYUi8",REMOVE_BG_API_URL:"https://api.remove.bg/v1.0/removebg",shoes:[]}},computed:{randomShoes(){return[...this.shoes].sort((()=>.5-Math.random())).slice(0,5)}},methods:{async removeBackgroundFromShoe(e){try{const t=await P.Z.post(this.REMOVE_BG_API_URL,{image_url:e,size:"auto"},{headers:{"X-Api-Key":this.API_KEY}});return`data:image/png;base64,${t.data.result}`}catch(t){throw console.error("Error removing background:",t),t}},nextShoe(){this.shoes.length&&(this.currentShoeIndex=(this.currentShoeIndex+1)%this.shoes.length)},async fetchShoes(){try{const e=(0,d.ad)(),t=(0,d.hJ)(e,"shoes"),s=await(0,d.PL)(t);let a=s.docs.map((e=>e.data()));this.shoes=a}catch(e){console.error("Error fetching shoes:",e)}},checkFirebase(){const e=(0,c.C6)();e.length?this.firebaseCheckMsg="Firebase er online!":this.firebaseCheckMsg="Firebase er offline!"}},created(){this.fetchShoes();const e=(0,l.v0)();e.currentUser&&(this.userName=e.currentUser.email||"User"),setInterval(this.nextShoe,15e3)}},A=O,T=(0,f.Z)(A,S,x,!1,null,"349ea03e",null),E=T.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[e.message?t("div",{class:["notification",e.type]},[e._v(" "+e._s(e.message)+" ")]):e._e(),t("div",{staticClass:"container",class:{"right-panel-active":e.isRightPanelActive},attrs:{id:"container"}},[t("div",{staticClass:"form-container sign-up-container"},[t("form",{on:{submit:function(t){return t.preventDefault(),e.createUser.apply(null,arguments)}}},[t("h1",[e._v("Opret Bruger")]),t("div",{staticClass:"social-container"},[t("a",{staticClass:"social",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loginWithFacebook.apply(null,arguments)}}},[t("i",{staticClass:"fab fa-facebook-f"})]),t("a",{staticClass:"social",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loginWithGoogle.apply(null,arguments)}}},[t("i",{staticClass:"fab fa-google-plus-g"})])]),t("span",[e._v("eller brug din email til at oprette en ny bruger")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Kodeord"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.repeatPassword,expression:"repeatPassword"}],attrs:{type:"password",placeholder:"Gentag Kodeord"},domProps:{value:e.repeatPassword},on:{input:function(t){t.target.composing||(e.repeatPassword=t.target.value)}}}),e.error?t("p",[e._v(e._s(e.error))]):e._e(),t("button",{attrs:{type:"submit"}},[e._v("Opret Bruger")])])]),t("div",{staticClass:"form-container sign-in-container"},[t("form",{attrs:{action:"#"}},[t("h1",[e._v("Log Ind")]),t("div",{staticClass:"social-container"},[t("a",{staticClass:"social",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loginWithFacebook.apply(null,arguments)}}},[t("i",{staticClass:"fab fa-facebook-f"})]),t("a",{staticClass:"social",attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.loginWithGoogle.apply(null,arguments)}}},[t("i",{staticClass:"fab fa-google-plus-g"})])]),t("span",[e._v("eller brug din email")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}}),t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),t("a",{attrs:{href:"#",id:"nederenGlemtDitPassword"}},[e._v("Glemt dit password?")]),t("button",{on:{click:function(t){return t.preventDefault(),e.loginWithEmail.apply(null,arguments)}}},[e._v("Log Ind")])])]),t("div",{staticClass:"overlay-container"},[t("div",{staticClass:"overlay"},[t("div",{staticClass:"overlay-panel overlay-left"},[t("h1",[e._v("Velkommen tilbage!")]),t("p",[e._v("For at få mest ud af din købsoplevelse, log ind på din konto.")]),t("button",{staticClass:"ghost",attrs:{id:"signIn"},on:{click:function(t){return t.preventDefault(),e.toggleSignIn.apply(null,arguments)}}},[e._v(" Log Ind ")])]),t("div",{staticClass:"overlay-panel overlay-right"},[t("h1",[e._v("Hej")]),t("p",[e._v("Opret en bruger for at få mest ud af dit køb ved os!")]),t("button",{staticClass:"ghost",attrs:{id:"signUp"},on:{click:function(t){return t.preventDefault(),e.toggleSignUp.apply(null,arguments)}}},[e._v(" Opret Bruger ")])])])])])])},D=[],L=(s(7658),{data(){return{email:"",password:"",repeatPassword:"",error:"",isRightPanelActive:!1,message:"",type:"success"}},methods:{startEmailVerificationCheck(e){const t=2e3,s=setInterval((()=>{e.reload().then((()=>{e.emailVerified&&(this.$toast.success("Konto oprettelse færdig!"),clearInterval(s),fe.push("/konto"))}))}),t)},async loginWithGoogle(){const e=new l.hJ,t=(0,l.v0)();try{const s=await(0,l.rh)(t,e);if(s.user){const e=(0,d.ad)(),t=(0,d.JU)(e,"users",s.user.uid),a=await(0,d.QT)(t);a.exists()||await(0,d.pl)(t,{email:s.user.email,uuid:s.user.uid,role:"user",timestamp:new Date}),fe.push("/konto"),console.log("Loggede ind med Google:",s.user)}}catch(s){let e;switch(console.error("Kunne ikke logge ind med Google:",s.message),s.code){case"auth/popup-closed-by-user":e="Login vinduet blev lukket. Prøv igen.";break;default:e=s.message+"Bed en administrator om at tilføje denne fejl kode."}this.$toast.error(e)}},async loginWithFacebook(){const e=new l._O,t=(0,l.v0)();try{const s=await(0,l.rh)(t,e);if(s.user){const e=(0,d.ad)(),t=(0,d.JU)(e,"users",s.user.uid),a=await(0,d.QT)(t);a.exists()||await(0,d.pl)(t,{email:s.user.email,uuid:s.user.uid,role:"user",timestamp:new Date}),fe.push("/konto"),console.log("Loggede ind med facebook:",s.user),this.$toast.success("Loggede ind med facebook!")}}catch(s){let e;switch(console.error("Kunne ikke logge ind med Facebook:",s.message),s.code){case"auth/popup-closed-by-user":e="Login vinduet blev lukket. Prøv igen.";break;default:e=s.message+"Bed en administrator om at tilføje denne fejl kode."}this.$toast.error(e)}},async userLoggedIn(){await this.fetchCart(this.user)},loginWithEmail(){const e=(0,l.v0)();(0,l.e5)(e,this.email,this.password).then((e=>{const t=e.user;fe.push("/konto"),console.log("Loggede ind:",t)})).catch((e=>{let t;switch(console.error("Fejl ved login:",e.message),e.code){case"auth/invalid-email":t="Ugyldig e-mailadresse.";break;case"auth/user-disabled":t="Brugerkontoen er deaktiveret.";break;case"auth/user-not-found":t="Ingen konto matcher denne e-mail.";break;case"auth/wrong-password":t="Forkert kodeord. Prøv igen.";break;case"auth/invalid-login-credentials":t="Ugyldig e-mailadresse eller kodeord.";break;case"auth/too-many-requests":t="For mange forsøg. Prøv igen senere.";break;default:t="En fejl opstod ved login. Prøv igen."}this.$toast.error(t)}))},toggleSignUp(){this.isRightPanelActive=!0},toggleSignIn(){this.isRightPanelActive=!1},createUser(){if(this.password!==this.repeatPassword)return void this.$toast.error("De 2 kodeord er ikke ens!");if(!this.isPasswordStrong(this.password))return void this.$toast.error("Kodeord er for svagt. Det skal mindst være 8 karaktere langt, have et stort bogstav, et lille bogstav, et tal og en speciel karakter.");const e=(0,l.v0)();(0,l.Xb)(e,this.email,this.password).then((async e=>{const t=e.user,s=(0,d.ad)(),a=(0,d.JU)(s,"users",t.uid);await(0,d.pl)(a,{email:this.email,uuid:t.uid,role:"user",timestamp:new Date}),(0,l.w$)(t),this.$toast.info("Verifikations mail er sendt!"),this.startEmailVerificationCheck(t)})).catch((e=>{let t;switch(console.error("Fejl med at logge ind:",e.message),e.code){case"auth/invalid-email":t="Ugyldig e-mailadresse.";break;case"auth/user-disabled":t="Brugerkontoen er deaktiveret.";break;case"auth/user-not-found":t="Kunne ikke finde e-mail eller brugernavn.";break;case"auth/wrong-password":t="Forkert kodeord. Prøv igen.";break;case"auth/email-already-in-use":t="E-mailadressen er allerede i brug.";break;case"auth/operation-not-allowed":t="Operationen er ikke tilladt.";break;case"auth/too-many-requests":t="For mange anmodninger. Prøv igen senere.";break;case"auth/weak-password":t="Kodeordet er for svagt.";break;default:t="En ukendt fejl opstod. Prøv igen."}this.$toast.error(t)}))},isPasswordStrong(e){const t=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;return t.test(e)}}}),N=L,$=(0,f.Z)(N,M,D,!1,null,"7c4480cf",null),U=$.exports,F=function(){var e=this,t=e._self._c;return t("div",{staticClass:"accountPage-container"},[t("h1",[e._v("KONTO SIDE")]),e.user?t("div",[t("p",[e._v("Your email: "+e._s(e.user.email))]),t("button",{on:{click:e.handleLogout}},[e._v("Log Ud")]),"admin"===e.role?t("button",{staticClass:"add-btn",on:{click:e.openModal}},[e._v(" Tilføj Sko ")]):e._e(),t("AddShoeModal",{attrs:{isOpen:e.isModalOpen},on:{close:e.closeModal,added:e.shoeAdded}}),"admin"===e.role?t("button",{staticClass:"view-btn",on:{click:function(t){e.isContactsModalOpen=!0}}},[e._v(" Se Kontakter ")]):e._e(),t("ContactsModal",{attrs:{isOpen:e.isContactsModalOpen},on:{close:function(t){e.isContactsModalOpen=!1}}})],1):e._e()])},K=[],j=function(){var e=this,t=e._self._c;return e.isOpen?t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-content"},[t("h3",[e._v("Add a new shoe")]),t("label",[e._v("Name:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.shoe.name,expression:"shoe.name"}],attrs:{type:"text"},domProps:{value:e.shoe.name},on:{input:function(t){t.target.composing||e.$set(e.shoe,"name",t.target.value)}}}),t("label",[e._v("Description:")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.shoe.description,expression:"shoe.description"}],domProps:{value:e.shoe.description},on:{input:function(t){t.target.composing||e.$set(e.shoe,"description",t.target.value)}}}),t("label",[e._v("Image URL:")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.shoe.image,expression:"shoe.image"}],attrs:{type:"text"},domProps:{value:e.shoe.image},on:{input:function(t){t.target.composing||e.$set(e.shoe,"image",t.target.value)}}}),t("label",{attrs:{for:"Category:"}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.shoe.category,expression:"shoe.category"}],on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.shoe,"category",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"Nike"}},[e._v("Nike")]),t("option",{attrs:{value:"Adidas"}},[e._v("Adidas")])]),t("label",[e._v("Price ($):")]),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.shoe.price,expression:"shoe.price",modifiers:{number:!0}}],attrs:{type:"number",step:"0.01",placeholder:"Enter price"},domProps:{value:e.shoe.price},on:{input:function(t){t.target.composing||e.$set(e.shoe,"price",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),t("button",{on:{click:e.addShoe}},[e._v("Add Shoe")]),t("button",{on:{click:e.close}},[e._v("Cancel")])])]):e._e()},R=[],B={props:{isOpen:Boolean},setup(e,{emit:t}){const s=(0,a.iH)({name:"",description:"",image:"",price:0});async function o(){try{const e=await(0,d.ET)((0,d.hJ)(p,"shoes"),s.value);console.log("Document written with ID: ",e.id),t("added"),r()}catch(e){console.error("Error adding document: ",e)}}function r(){t("close")}return{shoe:s,addShoe:o,close:r}}},Z=B,J=(0,f.Z)(Z,j,R,!1,null,"8fbda9f6",null),V=J.exports,G=function(){var e=this,t=e._self._c;return e.isOpen?t("div",{staticClass:"modal"},[t("div",{staticClass:"modal-header"},[t("h2",[e._v("Kontakter")]),t("button",{on:{click:e.close}},[e._v("Luk")])]),e.contacts.length>0?t("div",{staticClass:"contacts-container"},[t("div",{staticClass:"contact-card"},[t("h2",[e._v("Kontakt "+e._s(e.currentContactIndex+1))]),t("p",[e._v("Mail: "+e._s(e.currentContact.email))]),t("p",[e._v("Navn: "+e._s(e.currentContact.name))]),t("p",[e._v("Beskrivelse: "+e._s(e.currentContact.description))]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.currentContact.status,expression:"currentContact.status"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.currentContact,"status",t.target.multiple?s:s[0])},function(t){return e.updateStatus(e.currentContact)}]}},[t("option",{attrs:{disabled:"",value:""}},[e._v("Vælg status")]),t("option",[e._v("Afventer")]),t("option",[e._v("Set Af Admin")]),t("option",[e._v("Løst")])]),t("button",{on:{click:e.toggleImages}},[e._v("Se billeder")]),e.showImages&&e.currentContact.images&&e.currentContact.images.length?t("div",e._l(e.currentContact.images,(function(e,s){return t("img",{key:s,attrs:{src:e,alt:"KAN IKKE LOADES"}})})),0):e._e()])]):e._e(),t("div",{staticClass:"pagination"},[t("button",{attrs:{disabled:0===e.currentContactIndex},on:{click:e.goToPreviousContact}},[e._v(" ← Forrige ")]),e._l(e.contacts,(function(s,a){return t("span",{key:a,staticClass:"bullet",class:{active:e.currentContactIndex===a},on:{click:function(t){return e.goToContact(a)}}})})),t("button",{attrs:{disabled:e.currentContactIndex===e.contacts.length-1},on:{click:e.goToNextContact}},[e._v(" Næste → ")])],2)]):e._e()},W=[],H={props:{isOpen:{type:Boolean,required:!0}},data(){return{contacts:[],showImages:!1,currentContactIndex:0}},watch:{async isOpen(e){e&&await this.fetchContacts()}},mounted(){this.isOpen&&this.open()},computed:{currentContact(){return this.contacts[this.currentContactIndex]}},methods:{open(){document.body.classList.add("blurred")},async fetchContacts(){const e=(0,d.ad)(),t=(0,d.hJ)(e,"contactForms"),s=await(0,d.PL)(t);this.contacts=s.docs.map((e=>({id:e.id,...e.data()})))},close(){this.$emit("close")},toggleImages(){this.showImages=!this.showImages},async updateStatus(e){const t=(0,d.ad)(),s=(0,d.JU)(t,"contactForms",e.id),a={status:e.status};"Løst"===e.status&&(a.deleteTimestamp=(new Date).toISOString()),await(0,d.r7)(s,a)},goToNextContact(){this.currentContactIndex===this.contacts.length-1?this.currentContactIndex=0:this.currentContactIndex++},goToPreviousContact(){0===this.currentContactIndex?this.currentContactIndex=this.contacts.length-1:this.currentContactIndex--},goToContact(e){this.currentContactIndex=e}}},q=H,Q=(0,f.Z)(q,G,W,!1,null,"7499056c",null),X=Q.exports,z={components:{AddShoeModal:V,ContactsModal:X},data(){return{isContactsModalOpen:!1,isModalOpen:!1,user:null,role:null}},created(){const e=(0,l.v0)(),t=(0,d.ad)();(0,l.Aj)(e,(async e=>{if(e){this.user=e;const s=(0,d.JU)(t,"users",e.uid),a=await(0,d.QT)(s);a.exists()&&(this.role=a.data().role)}else"/login"!==fe.currentRoute.path&&fe.push("/login")}))},methods:{async handleLogout(){try{const e=(0,l.v0)();await(0,l.w7)(e),this.user=null,this.$store.commit("CLEAR_USER_STATE"),this.$toast.success("Loggede ud.")}catch(e){console.error("Kunne ikke logge ud:",e)}},openModal(){this.isModalOpen=!0},closeModal(){this.isModalOpen=!1},shoeAdded(){this.isModalOpen=!1}}},Y=z,ee=(0,f.Z)(Y,F,K,!1,null,"286effa6",null),te=ee.exports,se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"storeContainer"},[t("div",{staticClass:"searchFunctionContainer"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],attrs:{type:"text",placeholder:"Søg..."},domProps:{value:e.searchTerm},on:{input:[function(t){t.target.composing||(e.searchTerm=t.target.value)},e.filterShoes]}}),t("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedCategory,expression:"selectedCategory"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.selectedCategory=t.target.multiple?s:s[0]},e.filterShoes]}},[t("option",{attrs:{value:""}},[e._v("Alle")]),e._l(e.categories,(function(s){return t("option",{key:s,domProps:{value:s}},[e._v(" "+e._s(s)+" ")])}))],2)]),t("div",{staticClass:"shoe-grid"},e._l(e.filteredShoes,(function(s){return t("div",{key:s.id,staticClass:"shoe-card"},[t("img",{staticClass:"shoe-image",attrs:{src:s.image,alt:"shoe.name"}}),t("h2",[e._v(e._s(s.name||"Intet Navn Fundet"))]),t("p",[e._v(e._s(s.description))]),t("p",[t("strong",[e._v("Pris: ")]),e._v(e._s(s.price)+" DKK")]),t("button",{on:{click:function(t){return e.addToCart(s)}}},[e._v("Læg i kurven")])])})),0)])},ae=[],oe={data(){return{shoes:[],searchTerm:"",categories:[],selectedCategory:"",user:null,role:null,userId:null}},mounted(){this.fetchShoes(),this.fetchCategories(),this.userId&&this.fetchCart()},computed:{filteredShoes(){return this.shoes.filter((e=>{const t=e.name.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.selectedCategory||e.category===this.selectedCategory;return t&&s}))}},created(){const e=(0,l.v0)(),t=(0,d.ad)();(0,l.Aj)(e,(async e=>{if(e){this.user=e,this.userId=e.uid;const s=(0,d.JU)(t,"users",e.uid),a=await(0,d.QT)(s);a.exists()&&(this.role=a.data().role)}}))},methods:{async addToCart(e){if(this.userId)try{const t=(0,d.ad)(),s=(0,d.JU)(t,"carts",this.userId),a=await(0,d.QT)(s);let o=[];a.exists()&&(o=a.data().items||[]);const r=o.find((t=>t.id===e.id));this.$store.commit("incrementCart",1),r?r.quantity+=1:o.push({...e,quantity:1}),await(0,d.pl)(s,{items:o})}catch(t){this.$toast.error("Fejl: "+JSON.stringify(t)),console.error("Kunne ikke tilføje til kurven:",t)}else this.$toast.error("Du skal være logget in for at kunne lægge til kurven!")},async fetchCart(){const e=(0,d.ad)(),t=(0,d.JU)(e,"carts",this.userId),s=await(0,d.QT)(t);s.exists()&&(this.cart=s.data().items||[])},async fetchShoes(){const e=(0,d.ad)(),t=(0,d.hJ)(e,"shoes"),s=await(0,d.PL)(t);this.shoes=s.docs.map((e=>({id:e.id,...e.data()})))},async fetchCategories(){const e=(0,d.ad)(),t=(0,d.hJ)(e,"shoes"),s=await(0,d.PL)(t),a=new Set;s.docs.forEach((e=>{const t=e.data();t.category&&a.add(t.category)})),this.categories=[...a]},filterShoes(){return this.searchTerm||this.selectedCategory?this.shoes.filter((e=>{const t=e.name.toLowerCase().includes(this.searchTerm.toLowerCase()),s=!this.selectedCategory||e.category===this.selectedCategory;return t&&s})):this.shoes}}},re=oe,ne=(0,f.Z)(re,se,ae,!1,null,"7e5285fd",null),ie=ne.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("h1",[e._v("Kontakt Os")]),t("form",{attrs:{action:""}},[e._m(0),t("div",{staticClass:"form-item"},[t("label",{attrs:{for:"email"}},[e._v("Indtast din email")]),t("input",{attrs:{type:"text",id:"email",disabled:e.userEmail,required:""},domProps:{value:e.userEmail}})]),t("div",{staticClass:"form-item description"},[t("label",{attrs:{for:"beskrivelse"}},[e._v("Besked til os")]),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],attrs:{name:"beskrivelse",id:"beskrivelse"},domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}}),t("div",{staticClass:"char-count"},[e._v(e._s(e.description.length)+" / 25")])]),t("div",{staticClass:"form-item file"},[t("label",{staticClass:"custom-file-upload",attrs:{for:"billeder"}},[e._v("Upload billeder")]),t("input",{attrs:{type:"file",id:"billeder",multiple:"",accept:"image/*"},on:{change:e.showImages}})]),t("button",{attrs:{disabled:e.description.length<25},on:{click:function(t){return t.preventDefault(),e.sendMessage.apply(null,arguments)}}},[e._v(" Send ")])]),t("div",{staticClass:"img-container"},e._l(e.imageURLs,(function(s,a){return t("div",{key:a,staticClass:"image-wrapper"},[t("img",{staticClass:"uploaded-image",attrs:{src:s,alt:"Uploadet Billede"}}),t("button",{staticClass:"delete-button",on:{click:function(t){return e.removeImage(a)}}},[e._v("X")])])})),0)])},ce=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"form-item"},[t("label",{attrs:{for:"navn"}},[e._v("Indtast dit navn")]),t("input",{attrs:{type:"text",id:"navn",required:""}})])}],de=(s(6229),s(7330),s(2062),s(1294)),ue={data(){return{images:[],description:""}},computed:{userEmail(){const e=(0,l.v0)(),t=e.currentUser;return t?t.email:""},imageURLs(){return this.images.map((e=>e instanceof File?URL.createObjectURL(e):e))}},methods:{showImages(e){const t=["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","image/bmp"],s=Array.from(e.target.files).filter((e=>!!t.includes(e.type)||(this.$toast.error(`Fil "${e.name}" er ikke en billedtype vi understøtter.`),!1)));this.images=this.images.concat(s)},async sendMessage(){const e=(0,de.cF)(),t=[];for(const o of this.images){const s=(new Date).toISOString(),a=o.name.split(".").pop(),r=(0,de.iH)(e,`images/${s}-${Math.random().toString(36).substring(2,10)}.${a}`);await(0,de.KV)(r,o);const n=await(0,de.Jt)(r);t.push(n)}const s={name:document.getElementById("navn").value,email:document.getElementById("email").value,description:this.description,images:t};try{const e=(0,d.ad)();await(0,d.ET)((0,d.hJ)(e,"contactForms"),s),this.description="",this.images=[],this.$toast.success("Din besked er nu sendt videre til vores supportere!")}catch(a){console.error("Error adding document:",a),this.$toast.error("Vi kunne ikke sende din besked til vores supportere. Kontakt vores IT afdeling for mere info.")}},removeImage(e){this.images.splice(e,1)}}},me=ue,he=(0,f.Z)(me,le,ce,!1,null,"74386b2e",null),pe=he.exports;a.ZP.use(I.ZP);const ge=[{path:"/",name:"Home",component:E},{path:"/login",name:"Login",component:U},{path:"/konto",name:"Konto",component:te},{path:"/store",name:"Store",component:ie},{path:"/contact",name:"Kontakt",component:pe}],ve=new I.ZP({mode:"history",base:"/webstore/",routes:ge});var fe=ve,ke=s(9501),_e=s(3822);a.ZP.use(_e.ZP);const Ce=new _e.ZP.Store({state:{cartCount:0},mutations:{SET_CART_COUNT(e,t){e.cartCount=t},incrementCart(e,t){e.cartCount+=t},CLEAR_USER_STATE(e){e.cartCount=0}},actions:{async fetchCartCount({commit:e},t){const s=(0,d.ad)();try{const a=(0,d.JU)(s,"carts",t),o=await(0,d.QT)(a);if(o.exists()){const t=o.data().items||[],s=t.reduce(((e,t)=>e+t.quantity),0);e("SET_CART_COUNT",s)}else e("SET_CART_COUNT",0)}catch(a){console.error("Error fetching cart count:",a)}}},getters:{cartCount:e=>e.cartCount}});var be=Ce;a.ZP.config.productionTip=!1,a.ZP.prototype.$firebaseDb=p,a.ZP.use(ke.ZP,{position:ke.Vr.TOP_RIGHT,timeout:3500,closeOnClick:!0,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,draggablePercent:.7,showCloseButtonOnHover:!0,hideProgressBar:!1,closeButton:"button",icon:!1,rtl:!1}),new a.ZP({router:fe,store:be,render:e=>e(w)}).$mount("#app")},9905:function(e,t,s){e.exports=s.p+"img/logo-black.1e4d90bf.png"},1404:function(e,t,s){e.exports=s.p+"img/logo-white.738c7ce0.png"}},t={};function s(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={exports:{}};return e[a].call(r.exports,r,r.exports,s),r.exports}s.m=e,function(){var e=[];s.O=function(t,a,o,r){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],r=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||n>=r)&&Object.keys(s.O).every((function(e){return s.O[e](a[l])}))?a.splice(l--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,o,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/webstore/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,r,n=a[0],i=a[1],l=a[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(o in i)s.o(i,o)&&(s.m[o]=i[o]);if(l)var d=l(s)}for(t&&t(a);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},a=self["webpackChunkwebstore"]=self["webpackChunkwebstore"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(4792)}));a=s.O(a)})();
//# sourceMappingURL=app.dea649ff.js.map